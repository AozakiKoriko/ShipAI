<!DOCTYPE html>
<html>
<head>
    <title>Upload file</title>
    <link rel="stylesheet" type="text/css" href="import.css">
</head>
<body>
    <h2>Upload File</h2>
<body>
<form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
  Select file to upload:
  <input type="file" name="file" id="fileInput" onchange="showFileName()">
  <span id="fileName"></span>
  <input type="submit" value="Upload File">
</form>
<form id="newLoginForm" class="login-form">
    <label for="newUsername">Enter Username:</label>
    <input type="text" id="newUsername" name="newUsername" placeholder="Enter Username">
    <button type="button" id="newLoginSubmit">Submit</button>
</form>
<button type="button" id="exit-button">Exit</button>
<script>
function showFileName() {
    var input = document.getElementById("fileInput");
    var fileName = document.getElementById("fileName");
    if ('files' in input && input.files.length > 0) {
        fileName.textContent = "Selected file: " + input.files[0].name;
    }
}

function redirectToOptions() {
    var redirectPage = sessionStorage.getItem('redirectPage');
    if (redirectPage) {
        window.location.href = redirectPage + '.html';
    } else {
        console.log('Redirect page not found in sessionStorage. Redirecting to a default page.');
        window.location.href = 'options.html';
    }
    return false;
}

document.getElementById('newLoginSubmit').addEventListener('click', function() {
    const username = document.getElementById('newUsername').value;

    fetch('/newLogin', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ username: username })
    })
    .then(response => response.json())
    .then(data => {
        alert('Username logged successfully.');
    })
    .catch((error) => {
        console.error('Error:', error);
    });
});

document.getElementById('exit-button').addEventListener('click', function() {
    window.location.href = '/FacePage';
});
</script>
</body>
</html>